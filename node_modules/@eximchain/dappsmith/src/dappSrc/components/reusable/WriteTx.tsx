import React, { SFC } from 'react';
import { MethodAbi } from 'ethereum-types';
import { Box } from './ui';
import FieldList from './FieldList';
// @ts-ignore Will be present at codegen time
import { MethodState, ParamValue } from '../../state/reusable/types'; 
import { Typography } from './ui/NavLeft/Typography';
import Button from './ui/NavLeft/Button';
import ButtonLink from './ui/NavLeft/ButtonLink';


interface Props {
    fxn: MethodAbi,
    methodState: MethodState,
    setter: (name:string,value:ParamValue)=>void,
    data: string
}



export const WriteTx:SFC<Props> = ({fxn, ...props}) => {
    return (
        <Box>
             <Typography h1>Method: {fxn.name}</Typography>
            <FieldList inputs={fxn.inputs} values={props.methodState} onChange={props.setter} />
            <br />
            <Box>Formatted Data: <p style={{wordBreak:'break-all'}}><Typography useFor={'content'}>{props.data}</Typography></p></Box>
            <br />
            <div className="input-group-btn-left">
                <ButtonLink link>Report Issues</ButtonLink>
            </div>

            <div className="input-group-btn-right">
                <br></br>
                <Button primary>CreateTx</Button>
                <Button secondary> Sign</Button>     
            </div>
        </Box>
    )
}

export default WriteTx;